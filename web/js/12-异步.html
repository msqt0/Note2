<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.60">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <link rel="icon" href="https://avatars.githubusercontent.com/u/94043894"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.7.1/katex.min.css"><title>异步 | 📖Mosquito's Note📖</title><meta name="description" content="是水属性的答辩">
    <link rel="preload" href="/assets/style-60c868d5.css" as="style"><link rel="stylesheet" href="/assets/style-60c868d5.css">
    <link rel="modulepreload" href="/assets/app-59ccc503.js"><link rel="modulepreload" href="/assets/framework-7db056f4.js"><link rel="modulepreload" href="/assets/12-异步.html-73365c5b.js"><link rel="modulepreload" href="/assets/12-异步.html-68d42494.js"><link rel="prefetch" href="/assets/index.html-cdbcd1c4.js" as="script"><link rel="prefetch" href="/assets/01-枚举.html-e5fd9658.js" as="script"><link rel="prefetch" href="/assets/02-排序.html-4a1ee9a0.js" as="script"><link rel="prefetch" href="/assets/03-贪心.html-3de3c1a8.js" as="script"><link rel="prefetch" href="/assets/04-搜索.html-3f78a195.js" as="script"><link rel="prefetch" href="/assets/05-动态规划.html-ab62ae4f.js" as="script"><link rel="prefetch" href="/assets/06-其他.html-21180a57.js" as="script"><link rel="prefetch" href="/assets/index.html-0156f895.js" as="script"><link rel="prefetch" href="/assets/01-word.html-72ffce8a.js" as="script"><link rel="prefetch" href="/assets/02-lyrics.html-cacd27aa.js" as="script"><link rel="prefetch" href="/assets/index.html-ff931331.js" as="script"><link rel="prefetch" href="/assets/01-线性表.html-34708e22.js" as="script"><link rel="prefetch" href="/assets/02-哈希表.html-865e9114.js" as="script"><link rel="prefetch" href="/assets/03-树.html-e8cfe6de.js" as="script"><link rel="prefetch" href="/assets/04-图.html-51e29241.js" as="script"><link rel="prefetch" href="/assets/01-简单数学.html-71ccad4a.js" as="script"><link rel="prefetch" href="/assets/02-组合数学.html-62317c38.js" as="script"><link rel="prefetch" href="/assets/07-数论.html-930eed84.js" as="script"><link rel="prefetch" href="/assets/index.html-2504e5ba.js" as="script"><link rel="prefetch" href="/assets/01-数据库设计.html-983efe45.js" as="script"><link rel="prefetch" href="/assets/index.html-93728a94.js" as="script"><link rel="prefetch" href="/assets/01-安装.html-e3ed0443.js" as="script"><link rel="prefetch" href="/assets/02-结构.html-05b1ccee.js" as="script"><link rel="prefetch" href="/assets/03-读档.html-7150c47e.js" as="script"><link rel="prefetch" href="/assets/04-删除.html-342e4314.js" as="script"><link rel="prefetch" href="/assets/05-远程.html-2cda9299.js" as="script"><link rel="prefetch" href="/assets/06-分支.html-a9cc4a37.js" as="script"><link rel="prefetch" href="/assets/07-标签.html-c662f630.js" as="script"><link rel="prefetch" href="/assets/08-忽略.html-5393e20a.js" as="script"><link rel="prefetch" href="/assets/09-配置.html-bc9eaafb.js" as="script"><link rel="prefetch" href="/assets/10-git服务器.html-ec1410ce.js" as="script"><link rel="prefetch" href="/assets/11-workflow.html-12109269.js" as="script"><link rel="prefetch" href="/assets/index.html-0740dbe9.js" as="script"><link rel="prefetch" href="/assets/01-base.html-d375be02.js" as="script"><link rel="prefetch" href="/assets/02-advance.html-be6b3ac2.js" as="script"><link rel="prefetch" href="/assets/index.html-08dbaca1.js" as="script"><link rel="prefetch" href="/assets/01-登录.html-f8b075bb.js" as="script"><link rel="prefetch" href="/assets/02-安装.html-e455c91d.js" as="script"><link rel="prefetch" href="/assets/03-部署.html-c3482e31.js" as="script"><link rel="prefetch" href="/assets/index.html-518b7d25.js" as="script"><link rel="prefetch" href="/assets/01-样式定义.html-3fe0215d.js" as="script"><link rel="prefetch" href="/assets/02-选择器.html-13335a98.js" as="script"><link rel="prefetch" href="/assets/03-颜色.html-bf172a25.js" as="script"><link rel="prefetch" href="/assets/04-文字.html-2b8faf79.js" as="script"><link rel="prefetch" href="/assets/05-字体.html-65201a3f.js" as="script"><link rel="prefetch" href="/assets/06-背景.html-e5b8c130.js" as="script"><link rel="prefetch" href="/assets/07-边框.html-6e2d7440.js" as="script"><link rel="prefetch" href="/assets/08-元素展示.html-c81a3855.js" as="script"><link rel="prefetch" href="/assets/09-内外边距.html-20f8dbf4.js" as="script"><link rel="prefetch" href="/assets/10-盒子模型.html-0c5d9eb9.js" as="script"><link rel="prefetch" href="/assets/11-位置.html-7fae6fe9.js" as="script"><link rel="prefetch" href="/assets/12-浮动.html-3a255937.js" as="script"><link rel="prefetch" href="/assets/13-flex布局.html-dd2f0211.js" as="script"><link rel="prefetch" href="/assets/14-响应布局.html-8642af2f.js" as="script"><link rel="prefetch" href="/assets/index.html-b78d9bd3.js" as="script"><link rel="prefetch" href="/assets/01-包变量函数.html-3fc4baa7.js" as="script"><link rel="prefetch" href="/assets/02-流程与控制.html-60f63775.js" as="script"><link rel="prefetch" href="/assets/03-更多类型.html-84ded195.js" as="script"><link rel="prefetch" href="/assets/04-方法和接口.html-54aef51c.js" as="script"><link rel="prefetch" href="/assets/05-并发.html-0ed17b6e.js" as="script"><link rel="prefetch" href="/assets/index.html-70dd95ec.js" as="script"><link rel="prefetch" href="/assets/01-html基础标签.html-11309971.js" as="script"><link rel="prefetch" href="/assets/02-文本标签.html-bbf6bad5.js" as="script"><link rel="prefetch" href="/assets/03-图片.html-f92b3660.js" as="script"><link rel="prefetch" href="/assets/04-音频与视频.html-ae9a1159.js" as="script"><link rel="prefetch" href="/assets/05-超链接.html-04088f81.js" as="script"><link rel="prefetch" href="/assets/06-表单.html-a1b0cc9f.js" as="script"><link rel="prefetch" href="/assets/07-列表.html-9417d025.js" as="script"><link rel="prefetch" href="/assets/08-表格.html-083951a0.js" as="script"><link rel="prefetch" href="/assets/09-语义标签.html-396d378d.js" as="script"><link rel="prefetch" href="/assets/10-特殊符号.html-2d1368b4.js" as="script"><link rel="prefetch" href="/assets/index.html-000a169d.js" as="script"><link rel="prefetch" href="/assets/表单及html5.html-d01c105a.js" as="script"><link rel="prefetch" href="/assets/index.html-34d81047.js" as="script"><link rel="prefetch" href="/assets/01-js的调用方式与执行顺序.html-c8efcaaa.js" as="script"><link rel="prefetch" href="/assets/02-变量与运算符.html-d90c7252.js" as="script"><link rel="prefetch" href="/assets/03-输入与输出.html-4c20cbab.js" as="script"><link rel="prefetch" href="/assets/04-判断语句.html-d3d09a31.js" as="script"><link rel="prefetch" href="/assets/05-循环语句.html-3c34de0e.js" as="script"><link rel="prefetch" href="/assets/06-对象.html-0cb936c2.js" as="script"><link rel="prefetch" href="/assets/07-数组.html-3e6be019.js" as="script"><link rel="prefetch" href="/assets/08-函数.html-41dd1bf7.js" as="script"><link rel="prefetch" href="/assets/09-类.html-869ac2c2.js" as="script"><link rel="prefetch" href="/assets/10-事件.html-93439802.js" as="script"><link rel="prefetch" href="/assets/11-常用库.html-69fc63cd.js" as="script"><link rel="prefetch" href="/assets/index.html-c909febc.js" as="script"><link rel="prefetch" href="/assets/javascript一周目笔记.html-2d1d5023.js" as="script"><link rel="prefetch" href="/assets/01-架构.html-d10e00e2.js" as="script"><link rel="prefetch" href="/assets/01-sql.html-3cd27c49.js" as="script"><link rel="prefetch" href="/assets/02-DDL.html-1be35d61.js" as="script"><link rel="prefetch" href="/assets/03-DML.html-8f6d8463.js" as="script"><link rel="prefetch" href="/assets/04-DQL.html-da3dddc6.js" as="script"><link rel="prefetch" href="/assets/05-DCL.html-9a0e777b.js" as="script"><link rel="prefetch" href="/assets/06-函数.html-d9e4d0c9.js" as="script"><link rel="prefetch" href="/assets/07-约束.html-6e7ba2f3.js" as="script"><link rel="prefetch" href="/assets/08-多表查询.html-2597ac17.js" as="script"><link rel="prefetch" href="/assets/09-事务.html-efb1cf0a.js" as="script"><link rel="prefetch" href="/assets/10-其他.html-eb823347.js" as="script"><link rel="prefetch" href="/assets/index.html-698636ef.js" as="script"><link rel="prefetch" href="/assets/01-简介.html-2aa88a0a.js" as="script"><link rel="prefetch" href="/assets/02-基本路由.html-8cbb953b.js" as="script"><link rel="prefetch" href="/assets/03-Restful.html-23c96cf2.js" as="script"><link rel="prefetch" href="/assets/04-API参数.html-28dca721.js" as="script"><link rel="prefetch" href="/assets/05-URL参数.html-eb3baf78.js" as="script"><link rel="prefetch" href="/assets/06-表单参数.html-ea739a8a.js" as="script"><link rel="prefetch" href="/assets/07-单文件上传.html-6ec13c2e.js" as="script"><link rel="prefetch" href="/assets/08-多文件上传.html-e8ed0bc1.js" as="script"><link rel="prefetch" href="/assets/09-routesGroup.html-989221e9.js" as="script"><link rel="prefetch" href="/assets/10-notFound.html-aaa773c1.js" as="script"><link rel="prefetch" href="/assets/11-Json.html-c523d8d2.js" as="script"><link rel="prefetch" href="/assets/12-表单.html-2fa1946f.js" as="script"><link rel="prefetch" href="/assets/13-Uri.html-f283583d.js" as="script"><link rel="prefetch" href="/assets/14-数据渲染.html-d4e381a5.js" as="script"><link rel="prefetch" href="/assets/15-HTML模板.html-8ee987aa.js" as="script"><link rel="prefetch" href="/assets/16-重定向.html-41874ccd.js" as="script"><link rel="prefetch" href="/assets/17-同步异步.html-793fd64f.js" as="script"><link rel="prefetch" href="/assets/18-全局中间件.html-102fee60.js" as="script"><link rel="prefetch" href="/assets/19-Next方法.html-259e4cc6.js" as="script"><link rel="prefetch" href="/assets/20-局部中间件.html-8be67a56.js" as="script"><link rel="prefetch" href="/assets/21-三方中间件.html-44ad0f4d.js" as="script"><link rel="prefetch" href="/assets/22-Cookie介绍.html-dca9c2cc.js" as="script"><link rel="prefetch" href="/assets/23-Cookie使用.html-4a855263.js" as="script"><link rel="prefetch" href="/assets/24-session.html-50238523.js" as="script"><link rel="prefetch" href="/assets/25-log.html-1194dc6d.js" as="script"><link rel="prefetch" href="/assets/01-gorm.html-99bd4d00.js" as="script"><link rel="prefetch" href="/assets/02-模型.html-277e7022.js" as="script"><link rel="prefetch" href="/assets/03-惯例.html-6fe0bc5f.js" as="script"><link rel="prefetch" href="/assets/04-连接数据库.html-fce0a5b7.js" as="script"><link rel="prefetch" href="/assets/05-创建.html-56f733ef.js" as="script"><link rel="prefetch" href="/assets/06-查询.html-d18d1a31.js" as="script"><link rel="prefetch" href="/assets/07-更新.html-1672eed7.js" as="script"><link rel="prefetch" href="/assets/08-删除.html-146cf69b.js" as="script"><link rel="prefetch" href="/assets/09-属于.html-c36628f6.js" as="script"><link rel="prefetch" href="/assets/10-一对一.html-298854cf.js" as="script"><link rel="prefetch" href="/assets/11-一对多.html-75d10420.js" as="script"><link rel="prefetch" href="/assets/12-多对多.html-9f27b03b.js" as="script"><link rel="prefetch" href="/assets/13-关联.html-27d2c26d.js" as="script"><link rel="prefetch" href="/assets/14-预加载.html-94ec5c7f.js" as="script"><link rel="prefetch" href="/assets/15-链式操作.html-a4b2fa19.js" as="script"><link rel="prefetch" href="/assets/16-错误处理.html-d0cc9a63.js" as="script"><link rel="prefetch" href="/assets/17-钩子.html-ae5ab9a3.js" as="script"><link rel="prefetch" href="/assets/18-事务.html-ab1044cd.js" as="script"><link rel="prefetch" href="/assets/19-sql构造器.html-707add3e.js" as="script"><link rel="prefetch" href="/assets/20-数据库迁移.html-a301c9b2.js" as="script"><link rel="prefetch" href="/assets/21-通用数据库接口.html-423bb8d8.js" as="script"><link rel="prefetch" href="/assets/01-编译.html-763e6d3d.js" as="script"><link rel="prefetch" href="/assets/02-module.html-2c5ffc86.js" as="script"><link rel="prefetch" href="/assets/01-高质量编程.html-ce900c03.js" as="script"><link rel="prefetch" href="/assets/02-性能优化.html-85d49aaa.js" as="script"><link rel="prefetch" href="/assets/01-基础.html-b3df7503.js" as="script"><link rel="prefetch" href="/assets/02-流程控制.html-6839e22d.js" as="script"><link rel="prefetch" href="/assets/03-数组.html-97fe251c.js" as="script"><link rel="prefetch" href="/assets/04-类和对象.html-48a8955b.js" as="script"><link rel="prefetch" href="/assets/05-接口和继承.html-eec731d6.js" as="script"><link rel="prefetch" href="/assets/06-其他.html-9be7b738.js" as="script"><link rel="prefetch" href="/assets/07-异常处理.html-24741fb3.js" as="script"><link rel="prefetch" href="/assets/08-IO.html-4df10f64.js" as="script"><link rel="prefetch" href="/assets/09-泛型.html-794fe4e8.js" as="script"><link rel="prefetch" href="/assets/10-反射.html-cf202141.js" as="script"><link rel="prefetch" href="/assets/11-注解.html-ec7a6290.js" as="script"><link rel="prefetch" href="/assets/12-线程.html-8ed72df6.js" as="script"><link rel="prefetch" href="/assets/13-Jvm.html-cf1a4f88.js" as="script"><link rel="prefetch" href="/assets/01-Servlet基础知识.html-2059c0e2.js" as="script"><link rel="prefetch" href="/assets/02-http请求回应对象.html-42d5b4c5.js" as="script"><link rel="prefetch" href="/assets/03-Cookie对象.html-a912d055.js" as="script"><link rel="prefetch" href="/assets/04-HttpSession对象.html-67d82114.js" as="script"><link rel="prefetch" href="/assets/05-返回Json.html-52e6a423.js" as="script"><link rel="prefetch" href="/assets/06-文件的上传和下载.html-1dddf459.js" as="script"><link rel="prefetch" href="/assets/01-环境.html-9279f91d.js" as="script"><link rel="prefetch" href="/assets/02-ES6语法补充.html-00ed2446.js" as="script"><link rel="prefetch" href="/assets/03-Components.html-2d9c666b.js" as="script"><link rel="prefetch" href="/assets/04-组合Components.html-d57c246f.js" as="script"><link rel="prefetch" href="/assets/05-路由.html-1fe184de.js" as="script"><link rel="prefetch" href="/assets/06-Redux.html-7b919a01.js" as="script"><link rel="prefetch" href="/assets/07-函数组件与Hooks.html-ebd985e7.js" as="script"><link rel="prefetch" href="/assets/01-what.html-e3f99b7d.js" as="script"><link rel="prefetch" href="/assets/02-base.html-8b9de671.js" as="script"><link rel="prefetch" href="/assets/03-advance.html-6f8daf90.js" as="script"><link rel="prefetch" href="/assets/04-others.html-306a108b.js" as="script"><link rel="prefetch" href="/assets/01-环境.html-31e06c8d.js" as="script"><link rel="prefetch" href="/assets/02-基本.html-5165f131.js" as="script"><link rel="prefetch" href="/assets/01-connect.html-7319a9f0.js" as="script"><link rel="prefetch" href="/assets/02-CRUD.html-4deafc28.js" as="script"><link rel="prefetch" href="/assets/01-web.html-1339ecba.js" as="script"><link rel="prefetch" href="/assets/02-handler.html-f058b385.js" as="script"><link rel="prefetch" href="/assets/03-request.html-5f27fae4.js" as="script"><link rel="prefetch" href="/assets/04-response.html-e78adccb.js" as="script"><link rel="prefetch" href="/assets/05-template.html-0fe15dbb.js" as="script"><link rel="prefetch" href="/assets/06-route.html-6a7c8f0e.js" as="script"><link rel="prefetch" href="/assets/07-json.html-5d654df7.js" as="script"><link rel="prefetch" href="/assets/08-middleware.html-88d4639e.js" as="script"><link rel="prefetch" href="/assets/09-context.html-39832d49.js" as="script"><link rel="prefetch" href="/assets/10-https.html-0f968e43.js" as="script"><link rel="prefetch" href="/assets/11-test.html-386db2a2.js" as="script"><link rel="prefetch" href="/assets/01-Gin项目架构.html-a75c6681.js" as="script"><link rel="prefetch" href="/assets/02-Gin集成Gorm.html-609a7438.js" as="script"><link rel="prefetch" href="/assets/03-Gin实现控制和路由.html-5ce5d086.js" as="script"><link rel="prefetch" href="/assets/01-Spring与SpringBoot.html-d227990a.js" as="script"><link rel="prefetch" href="/assets/02-SpringBoot2入门.html-45c170c8.js" as="script"><link rel="prefetch" href="/assets/03-自动配置原理.html-d7b5455e.js" as="script"><link rel="prefetch" href="/assets/01-配置文件.html-79e04a6c.js" as="script"><link rel="prefetch" href="/assets/02-web开发.html-9b937273.js" as="script"><link rel="prefetch" href="/assets/01-MyBatis.html-8064b39b.js" as="script"><link rel="prefetch" href="/assets/02-搭建MyBatis.html-4b023321.js" as="script"><link rel="prefetch" href="/assets/03-核心配置文件.html-27e6469b.js" as="script"><link rel="prefetch" href="/assets/04-默认的类型别名.html-6708ce60.js" as="script"><link rel="prefetch" href="/assets/05-增删改查.html-cdaa4d65.js" as="script"><link rel="prefetch" href="/assets/06-获取参数值.html-0a774486.js" as="script"><link rel="prefetch" href="/assets/07-各种查询功能.html-c53d48cc.js" as="script"><link rel="prefetch" href="/assets/08-特殊的SQL的执行.html-5ecf10fc.js" as="script"><link rel="prefetch" href="/assets/09-resultMap.html-a7a184a5.js" as="script"><link rel="prefetch" href="/assets/10-动态SQL.html-db9d27a5.js" as="script"><link rel="prefetch" href="/assets/11-MyBatis的缓存.html-db37f29e.js" as="script"><link rel="prefetch" href="/assets/12-逆向工程.html-106e064a.js" as="script"><link rel="prefetch" href="/assets/13-分页插件.html-b9838211.js" as="script"><link rel="prefetch" href="/assets/01-Spring简介.html-9b26b494.js" as="script"><link rel="prefetch" href="/assets/02-IOC.html-aae45dc3.js" as="script"><link rel="prefetch" href="/assets/03-AOP.html-17fd3bfc.js" as="script"><link rel="prefetch" href="/assets/01-SpringMVC简介.html-8fb0b87b.js" as="script"><link rel="prefetch" href="/assets/02-HelloWorld.html-17e0eecd.js" as="script"><link rel="prefetch" href="/assets/03-RequestMapping.html-2c0dd78a.js" as="script"><link rel="prefetch" href="/assets/04-获取请求参数.html-c5c48860.js" as="script"><link rel="prefetch" href="/assets/05-域对象共享数据.html-77d359ef.js" as="script"><link rel="prefetch" href="/assets/06-SpringMVC视图.html-670aaf81.js" as="script"><link rel="prefetch" href="/assets/07-RESTFul.html-8c4acca5.js" as="script"><link rel="prefetch" href="/assets/08-HttpMessageConverter.html-70690ae1.js" as="script"><link rel="prefetch" href="/assets/09-文件上传和下载.html-a4d10b1b.js" as="script"><link rel="prefetch" href="/assets/10-拦截器.html-020748e9.js" as="script"><link rel="prefetch" href="/assets/11-异常处理器.html-6aa11bb2.js" as="script"><link rel="prefetch" href="/assets/12-注解配置SpringMVC.html-70d45132.js" as="script"><link rel="prefetch" href="/assets/13-SpringMVC执行流程.html-6f864ad1.js" as="script"><link rel="prefetch" href="/assets/7.5-RESTFul案例.html-da6175cd.js" as="script"><link rel="prefetch" href="/assets/404.html-f9875e7b.js" as="script"><link rel="prefetch" href="/assets/index.html-eed40025.js" as="script"><link rel="prefetch" href="/assets/01-枚举.html-e6765e16.js" as="script"><link rel="prefetch" href="/assets/02-排序.html-6ccb2ce4.js" as="script"><link rel="prefetch" href="/assets/03-贪心.html-ccf51973.js" as="script"><link rel="prefetch" href="/assets/04-搜索.html-4979d542.js" as="script"><link rel="prefetch" href="/assets/05-动态规划.html-ece67678.js" as="script"><link rel="prefetch" href="/assets/06-其他.html-fca80360.js" as="script"><link rel="prefetch" href="/assets/index.html-ae8e3fca.js" as="script"><link rel="prefetch" href="/assets/01-word.html-e7b3211c.js" as="script"><link rel="prefetch" href="/assets/02-lyrics.html-54625a8a.js" as="script"><link rel="prefetch" href="/assets/index.html-a5d66310.js" as="script"><link rel="prefetch" href="/assets/01-线性表.html-57bdcf92.js" as="script"><link rel="prefetch" href="/assets/02-哈希表.html-53ce7cdd.js" as="script"><link rel="prefetch" href="/assets/03-树.html-d33015ce.js" as="script"><link rel="prefetch" href="/assets/04-图.html-344239e2.js" as="script"><link rel="prefetch" href="/assets/01-简单数学.html-4153c4a6.js" as="script"><link rel="prefetch" href="/assets/02-组合数学.html-28a970e5.js" as="script"><link rel="prefetch" href="/assets/07-数论.html-eb5e8ca7.js" as="script"><link rel="prefetch" href="/assets/index.html-2d9a7331.js" as="script"><link rel="prefetch" href="/assets/01-数据库设计.html-f3fbb845.js" as="script"><link rel="prefetch" href="/assets/index.html-b70bf8ae.js" as="script"><link rel="prefetch" href="/assets/01-安装.html-e7bb5a22.js" as="script"><link rel="prefetch" href="/assets/02-结构.html-bed7a786.js" as="script"><link rel="prefetch" href="/assets/03-读档.html-c9347c12.js" as="script"><link rel="prefetch" href="/assets/04-删除.html-302a6baf.js" as="script"><link rel="prefetch" href="/assets/05-远程.html-e53d9d88.js" as="script"><link rel="prefetch" href="/assets/06-分支.html-3fa636ec.js" as="script"><link rel="prefetch" href="/assets/07-标签.html-20d47d6e.js" as="script"><link rel="prefetch" href="/assets/08-忽略.html-073cca34.js" as="script"><link rel="prefetch" href="/assets/09-配置.html-4b0c04db.js" as="script"><link rel="prefetch" href="/assets/10-git服务器.html-382fcfd5.js" as="script"><link rel="prefetch" href="/assets/11-workflow.html-65362c9a.js" as="script"><link rel="prefetch" href="/assets/index.html-8fb79683.js" as="script"><link rel="prefetch" href="/assets/01-base.html-9bb28ff2.js" as="script"><link rel="prefetch" href="/assets/02-advance.html-a7fd126b.js" as="script"><link rel="prefetch" href="/assets/index.html-7168513e.js" as="script"><link rel="prefetch" href="/assets/01-登录.html-3b840845.js" as="script"><link rel="prefetch" href="/assets/02-安装.html-529cbc4b.js" as="script"><link rel="prefetch" href="/assets/03-部署.html-4f7fc9fe.js" as="script"><link rel="prefetch" href="/assets/index.html-e0bffda4.js" as="script"><link rel="prefetch" href="/assets/01-样式定义.html-c85bbb22.js" as="script"><link rel="prefetch" href="/assets/02-选择器.html-ddb460ea.js" as="script"><link rel="prefetch" href="/assets/03-颜色.html-03f8a6ba.js" as="script"><link rel="prefetch" href="/assets/04-文字.html-54fd4556.js" as="script"><link rel="prefetch" href="/assets/05-字体.html-d6b75318.js" as="script"><link rel="prefetch" href="/assets/06-背景.html-624f59b6.js" as="script"><link rel="prefetch" href="/assets/07-边框.html-79cad437.js" as="script"><link rel="prefetch" href="/assets/08-元素展示.html-b7d2d54d.js" as="script"><link rel="prefetch" href="/assets/09-内外边距.html-701a08bc.js" as="script"><link rel="prefetch" href="/assets/10-盒子模型.html-9cf2a646.js" as="script"><link rel="prefetch" href="/assets/11-位置.html-82daece1.js" as="script"><link rel="prefetch" href="/assets/12-浮动.html-6e2e91c4.js" as="script"><link rel="prefetch" href="/assets/13-flex布局.html-ec71581a.js" as="script"><link rel="prefetch" href="/assets/14-响应布局.html-8e5cb92d.js" as="script"><link rel="prefetch" href="/assets/index.html-02541145.js" as="script"><link rel="prefetch" href="/assets/01-包变量函数.html-2c23282f.js" as="script"><link rel="prefetch" href="/assets/02-流程与控制.html-2a53b2dc.js" as="script"><link rel="prefetch" href="/assets/03-更多类型.html-5b5924a8.js" as="script"><link rel="prefetch" href="/assets/04-方法和接口.html-f103ea79.js" as="script"><link rel="prefetch" href="/assets/05-并发.html-4f1403ff.js" as="script"><link rel="prefetch" href="/assets/index.html-1ddea091.js" as="script"><link rel="prefetch" href="/assets/01-html基础标签.html-8d296c52.js" as="script"><link rel="prefetch" href="/assets/02-文本标签.html-69fd2255.js" as="script"><link rel="prefetch" href="/assets/03-图片.html-4db582d3.js" as="script"><link rel="prefetch" href="/assets/04-音频与视频.html-fb5bb5bb.js" as="script"><link rel="prefetch" href="/assets/05-超链接.html-96ea3e3b.js" as="script"><link rel="prefetch" href="/assets/06-表单.html-8bc19f54.js" as="script"><link rel="prefetch" href="/assets/07-列表.html-c363c198.js" as="script"><link rel="prefetch" href="/assets/08-表格.html-d33247cf.js" as="script"><link rel="prefetch" href="/assets/09-语义标签.html-4db5c68d.js" as="script"><link rel="prefetch" href="/assets/10-特殊符号.html-1da4c61c.js" as="script"><link rel="prefetch" href="/assets/index.html-f30c93ce.js" as="script"><link rel="prefetch" href="/assets/表单及html5.html-155cdfbd.js" as="script"><link rel="prefetch" href="/assets/index.html-09597e17.js" as="script"><link rel="prefetch" href="/assets/01-js的调用方式与执行顺序.html-fccac840.js" as="script"><link rel="prefetch" href="/assets/02-变量与运算符.html-55109784.js" as="script"><link rel="prefetch" href="/assets/03-输入与输出.html-2bb5ffd1.js" as="script"><link rel="prefetch" href="/assets/04-判断语句.html-8eb669b1.js" as="script"><link rel="prefetch" href="/assets/05-循环语句.html-92a0e2d0.js" as="script"><link rel="prefetch" href="/assets/06-对象.html-525c63b6.js" as="script"><link rel="prefetch" href="/assets/07-数组.html-dc674f25.js" as="script"><link rel="prefetch" href="/assets/08-函数.html-308e4eeb.js" as="script"><link rel="prefetch" href="/assets/09-类.html-e1e26d66.js" as="script"><link rel="prefetch" href="/assets/10-事件.html-e0fa8687.js" as="script"><link rel="prefetch" href="/assets/11-常用库.html-bfbc6714.js" as="script"><link rel="prefetch" href="/assets/index.html-f534162a.js" as="script"><link rel="prefetch" href="/assets/javascript一周目笔记.html-43fe9622.js" as="script"><link rel="prefetch" href="/assets/01-架构.html-5b6eb138.js" as="script"><link rel="prefetch" href="/assets/01-sql.html-3864111f.js" as="script"><link rel="prefetch" href="/assets/02-DDL.html-6e1ed03d.js" as="script"><link rel="prefetch" href="/assets/03-DML.html-7e44a861.js" as="script"><link rel="prefetch" href="/assets/04-DQL.html-4ffe9d8c.js" as="script"><link rel="prefetch" href="/assets/05-DCL.html-187da245.js" as="script"><link rel="prefetch" href="/assets/06-函数.html-c0b4ccc8.js" as="script"><link rel="prefetch" href="/assets/07-约束.html-31ac81b8.js" as="script"><link rel="prefetch" href="/assets/08-多表查询.html-f62c4954.js" as="script"><link rel="prefetch" href="/assets/09-事务.html-de022709.js" as="script"><link rel="prefetch" href="/assets/10-其他.html-0c43873b.js" as="script"><link rel="prefetch" href="/assets/index.html-e0c8954f.js" as="script"><link rel="prefetch" href="/assets/01-简介.html-e0220e8c.js" as="script"><link rel="prefetch" href="/assets/02-基本路由.html-c1a74ec5.js" as="script"><link rel="prefetch" href="/assets/03-Restful.html-f4506d1d.js" as="script"><link rel="prefetch" href="/assets/04-API参数.html-2db1237c.js" as="script"><link rel="prefetch" href="/assets/05-URL参数.html-ef16f280.js" as="script"><link rel="prefetch" href="/assets/06-表单参数.html-8d4b21ba.js" as="script"><link rel="prefetch" href="/assets/07-单文件上传.html-db22a6a7.js" as="script"><link rel="prefetch" href="/assets/08-多文件上传.html-60293982.js" as="script"><link rel="prefetch" href="/assets/09-routesGroup.html-48f90d6e.js" as="script"><link rel="prefetch" href="/assets/10-notFound.html-f43691d1.js" as="script"><link rel="prefetch" href="/assets/11-Json.html-e06c9690.js" as="script"><link rel="prefetch" href="/assets/12-表单.html-42dc7af6.js" as="script"><link rel="prefetch" href="/assets/13-Uri.html-d1958db5.js" as="script"><link rel="prefetch" href="/assets/14-数据渲染.html-fb709fe3.js" as="script"><link rel="prefetch" href="/assets/15-HTML模板.html-772abffd.js" as="script"><link rel="prefetch" href="/assets/16-重定向.html-d2c6beff.js" as="script"><link rel="prefetch" href="/assets/17-同步异步.html-7597d82a.js" as="script"><link rel="prefetch" href="/assets/18-全局中间件.html-be049eec.js" as="script"><link rel="prefetch" href="/assets/19-Next方法.html-12cd32d3.js" as="script"><link rel="prefetch" href="/assets/20-局部中间件.html-14f05259.js" as="script"><link rel="prefetch" href="/assets/21-三方中间件.html-738edb31.js" as="script"><link rel="prefetch" href="/assets/22-Cookie介绍.html-2f97f8f8.js" as="script"><link rel="prefetch" href="/assets/23-Cookie使用.html-4f16839d.js" as="script"><link rel="prefetch" href="/assets/24-session.html-aa8a2aed.js" as="script"><link rel="prefetch" href="/assets/25-log.html-ffffe579.js" as="script"><link rel="prefetch" href="/assets/01-gorm.html-8de894cc.js" as="script"><link rel="prefetch" href="/assets/02-模型.html-b63f25b3.js" as="script"><link rel="prefetch" href="/assets/03-惯例.html-758ae1d0.js" as="script"><link rel="prefetch" href="/assets/04-连接数据库.html-49278046.js" as="script"><link rel="prefetch" href="/assets/05-创建.html-d15c4e3a.js" as="script"><link rel="prefetch" href="/assets/06-查询.html-8da7a364.js" as="script"><link rel="prefetch" href="/assets/07-更新.html-6bac9574.js" as="script"><link rel="prefetch" href="/assets/08-删除.html-e34f4cf0.js" as="script"><link rel="prefetch" href="/assets/09-属于.html-ab3dec6e.js" as="script"><link rel="prefetch" href="/assets/10-一对一.html-65abb3ad.js" as="script"><link rel="prefetch" href="/assets/11-一对多.html-25cdf106.js" as="script"><link rel="prefetch" href="/assets/12-多对多.html-4ae82faa.js" as="script"><link rel="prefetch" href="/assets/13-关联.html-ad433b3d.js" as="script"><link rel="prefetch" href="/assets/14-预加载.html-b5d3aa5f.js" as="script"><link rel="prefetch" href="/assets/15-链式操作.html-be6da817.js" as="script"><link rel="prefetch" href="/assets/16-错误处理.html-d29d1871.js" as="script"><link rel="prefetch" href="/assets/17-钩子.html-31d1206e.js" as="script"><link rel="prefetch" href="/assets/18-事务.html-99ba2f21.js" as="script"><link rel="prefetch" href="/assets/19-sql构造器.html-de6891fc.js" as="script"><link rel="prefetch" href="/assets/20-数据库迁移.html-e6590b29.js" as="script"><link rel="prefetch" href="/assets/21-通用数据库接口.html-0ecd4bb2.js" as="script"><link rel="prefetch" href="/assets/01-编译.html-f18c3b2f.js" as="script"><link rel="prefetch" href="/assets/02-module.html-d51a83be.js" as="script"><link rel="prefetch" href="/assets/01-高质量编程.html-417c72ad.js" as="script"><link rel="prefetch" href="/assets/02-性能优化.html-94a842d5.js" as="script"><link rel="prefetch" href="/assets/01-基础.html-de6acee6.js" as="script"><link rel="prefetch" href="/assets/02-流程控制.html-fc92ea90.js" as="script"><link rel="prefetch" href="/assets/03-数组.html-386268aa.js" as="script"><link rel="prefetch" href="/assets/04-类和对象.html-38d96deb.js" as="script"><link rel="prefetch" href="/assets/05-接口和继承.html-58c30a71.js" as="script"><link rel="prefetch" href="/assets/06-其他.html-e366d75b.js" as="script"><link rel="prefetch" href="/assets/07-异常处理.html-827d3aff.js" as="script"><link rel="prefetch" href="/assets/08-IO.html-bc5011de.js" as="script"><link rel="prefetch" href="/assets/09-泛型.html-73f7bdbd.js" as="script"><link rel="prefetch" href="/assets/10-反射.html-2785224e.js" as="script"><link rel="prefetch" href="/assets/11-注解.html-1af8047d.js" as="script"><link rel="prefetch" href="/assets/12-线程.html-46b5f24a.js" as="script"><link rel="prefetch" href="/assets/13-Jvm.html-d8ff52ca.js" as="script"><link rel="prefetch" href="/assets/01-Servlet基础知识.html-dccdb6c0.js" as="script"><link rel="prefetch" href="/assets/02-http请求回应对象.html-5eab1f0a.js" as="script"><link rel="prefetch" href="/assets/03-Cookie对象.html-55a584ae.js" as="script"><link rel="prefetch" href="/assets/04-HttpSession对象.html-7046d05d.js" as="script"><link rel="prefetch" href="/assets/05-返回Json.html-10013d32.js" as="script"><link rel="prefetch" href="/assets/06-文件的上传和下载.html-f4f47f61.js" as="script"><link rel="prefetch" href="/assets/01-环境.html-36eff85f.js" as="script"><link rel="prefetch" href="/assets/02-ES6语法补充.html-0754a22d.js" as="script"><link rel="prefetch" href="/assets/03-Components.html-a29bfd62.js" as="script"><link rel="prefetch" href="/assets/04-组合Components.html-e6e68ccc.js" as="script"><link rel="prefetch" href="/assets/05-路由.html-69ec1770.js" as="script"><link rel="prefetch" href="/assets/06-Redux.html-173d3b5b.js" as="script"><link rel="prefetch" href="/assets/07-函数组件与Hooks.html-509af374.js" as="script"><link rel="prefetch" href="/assets/01-what.html-afd30315.js" as="script"><link rel="prefetch" href="/assets/02-base.html-47bb5a1e.js" as="script"><link rel="prefetch" href="/assets/03-advance.html-591d8b52.js" as="script"><link rel="prefetch" href="/assets/04-others.html-e784d9dd.js" as="script"><link rel="prefetch" href="/assets/01-环境.html-ae3fb175.js" as="script"><link rel="prefetch" href="/assets/02-基本.html-78887f0b.js" as="script"><link rel="prefetch" href="/assets/01-connect.html-149c5d35.js" as="script"><link rel="prefetch" href="/assets/02-CRUD.html-85c85f77.js" as="script"><link rel="prefetch" href="/assets/01-web.html-7cd224ca.js" as="script"><link rel="prefetch" href="/assets/02-handler.html-443c2c91.js" as="script"><link rel="prefetch" href="/assets/03-request.html-d3c24e29.js" as="script"><link rel="prefetch" href="/assets/04-response.html-87c157e6.js" as="script"><link rel="prefetch" href="/assets/05-template.html-4cdaae54.js" as="script"><link rel="prefetch" href="/assets/06-route.html-a96693d0.js" as="script"><link rel="prefetch" href="/assets/07-json.html-4519ca09.js" as="script"><link rel="prefetch" href="/assets/08-middleware.html-b9335b7b.js" as="script"><link rel="prefetch" href="/assets/09-context.html-950fe1d7.js" as="script"><link rel="prefetch" href="/assets/10-https.html-e12ae983.js" as="script"><link rel="prefetch" href="/assets/11-test.html-47171b22.js" as="script"><link rel="prefetch" href="/assets/01-Gin项目架构.html-32e4712f.js" as="script"><link rel="prefetch" href="/assets/02-Gin集成Gorm.html-cb7bce03.js" as="script"><link rel="prefetch" href="/assets/03-Gin实现控制和路由.html-20c4ebdf.js" as="script"><link rel="prefetch" href="/assets/01-Spring与SpringBoot.html-5b568b88.js" as="script"><link rel="prefetch" href="/assets/02-SpringBoot2入门.html-6036ccc2.js" as="script"><link rel="prefetch" href="/assets/03-自动配置原理.html-69978e79.js" as="script"><link rel="prefetch" href="/assets/01-配置文件.html-fe39f041.js" as="script"><link rel="prefetch" href="/assets/02-web开发.html-76c5ff65.js" as="script"><link rel="prefetch" href="/assets/01-MyBatis.html-4e7d6f63.js" as="script"><link rel="prefetch" href="/assets/02-搭建MyBatis.html-387d45dc.js" as="script"><link rel="prefetch" href="/assets/03-核心配置文件.html-7c152261.js" as="script"><link rel="prefetch" href="/assets/04-默认的类型别名.html-a8890661.js" as="script"><link rel="prefetch" href="/assets/05-增删改查.html-ea9128ca.js" as="script"><link rel="prefetch" href="/assets/06-获取参数值.html-f293f43c.js" as="script"><link rel="prefetch" href="/assets/07-各种查询功能.html-ad2ba4c7.js" as="script"><link rel="prefetch" href="/assets/08-特殊的SQL的执行.html-9f52a214.js" as="script"><link rel="prefetch" href="/assets/09-resultMap.html-4a20d141.js" as="script"><link rel="prefetch" href="/assets/10-动态SQL.html-2040493c.js" as="script"><link rel="prefetch" href="/assets/11-MyBatis的缓存.html-70f2b6d1.js" as="script"><link rel="prefetch" href="/assets/12-逆向工程.html-dfe1a46d.js" as="script"><link rel="prefetch" href="/assets/13-分页插件.html-26e42002.js" as="script"><link rel="prefetch" href="/assets/01-Spring简介.html-b5f7e719.js" as="script"><link rel="prefetch" href="/assets/02-IOC.html-128d2437.js" as="script"><link rel="prefetch" href="/assets/03-AOP.html-e30dc990.js" as="script"><link rel="prefetch" href="/assets/01-SpringMVC简介.html-aa0cfab3.js" as="script"><link rel="prefetch" href="/assets/02-HelloWorld.html-ae53ac34.js" as="script"><link rel="prefetch" href="/assets/03-RequestMapping.html-0a5d6eca.js" as="script"><link rel="prefetch" href="/assets/04-获取请求参数.html-d19132be.js" as="script"><link rel="prefetch" href="/assets/05-域对象共享数据.html-062ed79c.js" as="script"><link rel="prefetch" href="/assets/06-SpringMVC视图.html-afc5d1cd.js" as="script"><link rel="prefetch" href="/assets/07-RESTFul.html-ad8ab43e.js" as="script"><link rel="prefetch" href="/assets/08-HttpMessageConverter.html-09ffb5d9.js" as="script"><link rel="prefetch" href="/assets/09-文件上传和下载.html-87627d5f.js" as="script"><link rel="prefetch" href="/assets/10-拦截器.html-e8ecef53.js" as="script"><link rel="prefetch" href="/assets/11-异常处理器.html-8e98e0b4.js" as="script"><link rel="prefetch" href="/assets/12-注解配置SpringMVC.html-8f3399b9.js" as="script"><link rel="prefetch" href="/assets/13-SpringMVC执行流程.html-65bb421b.js" as="script"><link rel="prefetch" href="/assets/7.5-RESTFul案例.html-06a4f9ce.js" as="script"><link rel="prefetch" href="/assets/404.html-deccaefe.js" as="script"><link rel="prefetch" href="/assets/style-e9220a04.js" as="script"><link rel="prefetch" href="/assets/docsearch-1d421ddb.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/" class=""><!----><span class="site-name">📖Mosquito&#39;s Note📖</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a href="/algorithm/" class="" aria-label="Algorithm"><!--[--><!--]--> Algorithm <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Web"><span class="title">Web</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Web"><span class="title">Web</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/web/html/" class="" aria-label="Html"><!--[--><!--]--> Html <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/web/css/" class="" aria-label="Css"><!--[--><!--]--> Css <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/web/js/" class="router-link-active" aria-label="JavaScript"><!--[--><!--]--> JavaScript <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/web/go/" class="" aria-label="Go"><!--[--><!--]--> Go <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/web/java/" class="" aria-label="Java"><!--[--><!--]--> Java <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/web/database/mysql/" class="" aria-label="Mysql"><!--[--><!--]--> Mysql <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Linux"><span class="title">Linux</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Linux"><span class="title">Linux</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/linux/web/" class="" aria-label="Web部署"><!--[--><!--]--> Web部署 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/linux/git/" class="" aria-label="Git"><!--[--><!--]--> Git <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/linux/lua/" class="" aria-label="Lua"><!--[--><!--]--> Lua <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Cs"><span class="title">Cs</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Cs"><span class="title">Cs</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/cs/db/" class="" aria-label="数据库理论"><!--[--><!--]--> 数据库理论 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/cs/app/" class="" aria-label="应用理论"><!--[--><!--]--> 应用理论 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a href="/others/" class="" aria-label="Others"><!--[--><!--]--> Others <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Bros"><span class="title">Bros</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Bros"><span class="title">Bros</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a class="external-link" href="https://lazyonion.github.io" rel="noopener noreferrer" target="_blank" aria-label="LazyOnion"><!--[--><!--]--> LazyOnion <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="http://43.139.191.213/" rel="noopener noreferrer" target="_blank" aria-label="Dr.M"><!--[--><!--]--> Dr.M <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://www.cnblogs.com/shadow-fy/" rel="noopener noreferrer" target="_blank" aria-label="Shadow-fy"><!--[--><!--]--> Shadow-fy <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a class="external-link" href="https://github.com/msqtt/msqtt.github.io" rel="noopener noreferrer" target="_blank" aria-label="Repo"><!--[--><!--]--> Repo <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><div id="docsearch-container"></div></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a href="/algorithm/" class="" aria-label="Algorithm"><!--[--><!--]--> Algorithm <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Web"><span class="title">Web</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Web"><span class="title">Web</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/web/html/" class="" aria-label="Html"><!--[--><!--]--> Html <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/web/css/" class="" aria-label="Css"><!--[--><!--]--> Css <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/web/js/" class="router-link-active" aria-label="JavaScript"><!--[--><!--]--> JavaScript <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/web/go/" class="" aria-label="Go"><!--[--><!--]--> Go <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/web/java/" class="" aria-label="Java"><!--[--><!--]--> Java <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/web/database/mysql/" class="" aria-label="Mysql"><!--[--><!--]--> Mysql <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Linux"><span class="title">Linux</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Linux"><span class="title">Linux</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/linux/web/" class="" aria-label="Web部署"><!--[--><!--]--> Web部署 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/linux/git/" class="" aria-label="Git"><!--[--><!--]--> Git <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/linux/lua/" class="" aria-label="Lua"><!--[--><!--]--> Lua <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Cs"><span class="title">Cs</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Cs"><span class="title">Cs</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/cs/db/" class="" aria-label="数据库理论"><!--[--><!--]--> 数据库理论 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/cs/app/" class="" aria-label="应用理论"><!--[--><!--]--> 应用理论 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a href="/others/" class="" aria-label="Others"><!--[--><!--]--> Others <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Bros"><span class="title">Bros</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Bros"><span class="title">Bros</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a class="external-link" href="https://lazyonion.github.io" rel="noopener noreferrer" target="_blank" aria-label="LazyOnion"><!--[--><!--]--> LazyOnion <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="http://43.139.191.213/" rel="noopener noreferrer" target="_blank" aria-label="Dr.M"><!--[--><!--]--> Dr.M <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://www.cnblogs.com/shadow-fy/" rel="noopener noreferrer" target="_blank" aria-label="Shadow-fy"><!--[--><!--]--> Shadow-fy <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a class="external-link" href="https://github.com/msqtt/msqtt.github.io" rel="noopener noreferrer" target="_blank" aria-label="Repo"><!--[--><!--]--> Repo <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading active collapsible">基础 <span class="down arrow"></span></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/web/js/01-js%E7%9A%84%E8%B0%83%E7%94%A8%E6%96%B9%E5%BC%8F%E4%B8%8E%E6%89%A7%E8%A1%8C%E9%A1%BA%E5%BA%8F.html" class="sidebar-item" aria-label="js 的调用方式与执行顺序"><!--[--><!--]--> js 的调用方式与执行顺序 <!--[--><!--]--></a><!----></li><li><a href="/web/js/02-%E5%8F%98%E9%87%8F%E4%B8%8E%E8%BF%90%E7%AE%97%E7%AC%A6.html" class="sidebar-item" aria-label="变量与运算符"><!--[--><!--]--> 变量与运算符 <!--[--><!--]--></a><!----></li><li><a href="/web/js/03-%E8%BE%93%E5%85%A5%E4%B8%8E%E8%BE%93%E5%87%BA.html" class="sidebar-item" aria-label="输入与输出"><!--[--><!--]--> 输入与输出 <!--[--><!--]--></a><!----></li><li><a href="/web/js/04-%E5%88%A4%E6%96%AD%E8%AF%AD%E5%8F%A5.html" class="sidebar-item" aria-label="判断语句"><!--[--><!--]--> 判断语句 <!--[--><!--]--></a><!----></li><li><a href="/web/js/05-%E5%BE%AA%E7%8E%AF%E8%AF%AD%E5%8F%A5.html" class="sidebar-item" aria-label="循环语句"><!--[--><!--]--> 循环语句 <!--[--><!--]--></a><!----></li><li><a href="/web/js/06-%E5%AF%B9%E8%B1%A1.html" class="sidebar-item" aria-label="循环语句"><!--[--><!--]--> 循环语句 <!--[--><!--]--></a><!----></li><li><a href="/web/js/07-%E6%95%B0%E7%BB%84.html" class="sidebar-item" aria-label="数组"><!--[--><!--]--> 数组 <!--[--><!--]--></a><!----></li><li><a href="/web/js/09-%E7%B1%BB.html" class="sidebar-item" aria-label="类"><!--[--><!--]--> 类 <!--[--><!--]--></a><!----></li><li><a href="/web/js/10-%E4%BA%8B%E4%BB%B6.html" class="sidebar-item" aria-label="事件"><!--[--><!--]--> 事件 <!--[--><!--]--></a><!----></li><li><a href="/web/js/11-%E5%B8%B8%E7%94%A8%E5%BA%93.html" class="sidebar-item" aria-label="常用库"><!--[--><!--]--> 常用库 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/web/js/12-%E5%BC%82%E6%AD%A5.html" class="router-link-active router-link-exact-active router-link-active sidebar-item active" aria-label="异步"><!--[--><!--]--> 异步 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/web/js/12-%E5%BC%82%E6%AD%A5.html#异步和同步" class="router-link-active router-link-exact-active sidebar-item" aria-label="异步和同步"><!--[--><!--]--> 异步和同步 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/web/js/12-%E5%BC%82%E6%AD%A5.html#异步编程" class="router-link-active router-link-exact-active sidebar-item" aria-label="异步编程"><!--[--><!--]--> 异步编程 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/web/js/12-%E5%BC%82%E6%AD%A5.html#回调函数" class="router-link-active router-link-exact-active sidebar-item" aria-label="回调函数"><!--[--><!--]--> 回调函数 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/web/js/12-%E5%BC%82%E6%AD%A5.html#事件监听" class="router-link-active router-link-exact-active sidebar-item" aria-label="事件监听"><!--[--><!--]--> 事件监听 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/web/js/12-%E5%BC%82%E6%AD%A5.html#发布-订阅" class="router-link-active router-link-exact-active sidebar-item" aria-label="发布/订阅"><!--[--><!--]--> 发布/订阅 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/web/js/12-%E5%BC%82%E6%AD%A5.html#promise" class="router-link-active router-link-exact-active sidebar-item" aria-label="Promise"><!--[--><!--]--> Promise <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/web/js/12-%E5%BC%82%E6%AD%A5.html#promise-api" class="router-link-active router-link-exact-active sidebar-item" aria-label="Promise API"><!--[--><!--]--> Promise API <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/web/js/12-%E5%BC%82%E6%AD%A5.html#new-promise" class="router-link-active router-link-exact-active sidebar-item" aria-label="New Promise()"><!--[--><!--]--> New Promise() <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/web/js/12-%E5%BC%82%E6%AD%A5.html#workers" class="router-link-active router-link-exact-active sidebar-item" aria-label="workers"><!--[--><!--]--> workers <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><a href="/web/js/javascript%E4%B8%80%E5%91%A8%E7%9B%AE%E7%AC%94%E8%AE%B0.html" class="sidebar-item" aria-label="JS NOTE"><!--[--><!--]--> JS NOTE <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">TypeScript <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/web/js/ts/01-what.html" class="sidebar-item" aria-label="简介"><!--[--><!--]--> 简介 <!--[--><!--]--></a><!----></li><li><a href="/web/js/ts/02-base.html" class="sidebar-item" aria-label="基础"><!--[--><!--]--> 基础 <!--[--><!--]--></a><!----></li><li><a href="/web/js/ts/03-advance.html" class="sidebar-item" aria-label="进阶"><!--[--><!--]--> 进阶 <!--[--><!--]--></a><!----></li><li><a href="/web/js/ts/04-others.html" class="sidebar-item" aria-label="其他"><!--[--><!--]--> 其他 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">React <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/web/js/react/01-%E7%8E%AF%E5%A2%83.html" class="sidebar-item" aria-label="环境配置"><!--[--><!--]--> 环境配置 <!--[--><!--]--></a><!----></li><li><a href="/web/js/react/02-ES6%E8%AF%AD%E6%B3%95%E8%A1%A5%E5%85%85.html" class="sidebar-item" aria-label="ES6 语法规范"><!--[--><!--]--> ES6 语法规范 <!--[--><!--]--></a><!----></li><li><a href="/web/js/react/03-Components.html" class="sidebar-item" aria-label="Components"><!--[--><!--]--> Components <!--[--><!--]--></a><!----></li><li><a href="/web/js/react/04-%E7%BB%84%E5%90%88Components.html" class="sidebar-item" aria-label="组合 Components"><!--[--><!--]--> 组合 Components <!--[--><!--]--></a><!----></li><li><a href="/web/js/react/05-%E8%B7%AF%E7%94%B1.html" class="sidebar-item" aria-label="路由"><!--[--><!--]--> 路由 <!--[--><!--]--></a><!----></li><li><a href="/web/js/react/06-Redux.html" class="sidebar-item" aria-label="Redux"><!--[--><!--]--> Redux <!--[--><!--]--></a><!----></li><li><a href="/web/js/react/07-%E5%87%BD%E6%95%B0%E7%BB%84%E4%BB%B6%E4%B8%8EHooks.html" class="sidebar-item" aria-label="函数组件与 Hooks"><!--[--><!--]--> 函数组件与 Hooks <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading collapsible">Vue <span class="right arrow"></span></p><ul style="display:none;" class="sidebar-item-children"><!--[--><li><a href="/web/js/vue/01-%E7%8E%AF%E5%A2%83.html" class="sidebar-item" aria-label="配置环境"><!--[--><!--]--> 配置环境 <!--[--><!--]--></a><!----></li><li><a href="/web/js/vue/02-%E5%9F%BA%E6%9C%AC.html" class="sidebar-item" aria-label="基本概念"><!--[--><!--]--> 基本概念 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="异步" tabindex="-1"><a class="header-anchor" href="#异步" aria-hidden="true">#</a> 异步</h1><p>题外话， 这个模块虽然属于 js ，但是我想用 ts 来写实例看看。</p><h2 id="异步和同步" tabindex="-1"><a class="header-anchor" href="#异步和同步" aria-hidden="true">#</a> 异步和同步</h2><p>那么都知道 Javascript 语言的执行环境是单线程, 为了解决因为网络请求等待造成的页面无响应</p><p>Javascript 语言将任务的执行模式分成两种：同步（Synchronous）和异步（Asynchronous）</p><p>同步：顾名思义，一条条语句从上到下执行</p><p>异步：和同步不一样，上一步语句也许在下面才执行</p><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>我很喜欢 js 对于异步编程的处理，简单易用，没 lua coroutine 那么 掉头发，哈哈我水平比较低💩</p></div><h2 id="异步编程" tabindex="-1"><a class="header-anchor" href="#异步编程" aria-hidden="true">#</a> 异步编程</h2><p>js 实现异步编程可以有四种方法</p><ol><li>回调函数</li><li>事件监听</li><li>发布/订阅</li><li>Promises 对象</li><li>Worker</li></ol><h3 id="回调函数" tabindex="-1"><a class="header-anchor" href="#回调函数" aria-hidden="true">#</a> 回调函数</h3><p>很简单, 假如我需要执行一个很耗时的函数<code>longTimeWork()</code>, 为了避免页面卡在执行这个函数，可以先执行后续 的步骤，把需要等待执行的代码放进回调函数</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token function">longTimeWork</span><span class="token punctuation">(</span><span class="token function-variable function">callback</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Start waitting...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">callback</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">otherThings</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;World&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">afterWaiting</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// need a waitting to start execute afterWaiting function</span>
<span class="token function">longTimeWork</span><span class="token punctuation">(</span>afterWaiting<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">otherThings</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 结果</span>
<span class="token comment">// Start waitting...</span>
<span class="token comment">// World</span>
<span class="token comment">// Hello</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>使用这种方式，可以把同步操作变成异步的，优点是简单、容易理解和部署，缺点是不利于代码的阅读和维护，各个部分之间高度耦合（Coupling），流程会很混乱，而且每个任务只能指定一个回调函数，假如是发请求，如果有多次请求操作，那么就要写很多层嵌套 💩</p><h3 id="事件监听" tabindex="-1"><a class="header-anchor" href="#事件监听" aria-hidden="true">#</a> 事件监听</h3><p>这里用阮一峰的例子</p><p>另一种思路是采用事件驱动模式。任务的执行不取决于代码的顺序，而取决于某个事件是否发生</p><p>采用的 jQuery 的写法</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>f1<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&quot;done&quot;</span><span class="token punctuation">,</span> f2<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">f1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// f1的任务代码</span>

    f1<span class="token punctuation">.</span><span class="token function">trigger</span><span class="token punctuation">(</span><span class="token string">&quot;done&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>上面这行代码的意思是，当 f1 发生 done 事件，就执行 f2。然后，对 f1 进行改写</p><p><code>f1.trigger(&#39;done&#39;)</code>表示，执行完成后，立即触发 done 事件，从而开始执行 f2。</p><p>可以&quot;去耦合&quot;（Decoupling），有利于实现模块化。缺点是整个程序都要变成事件驱动型， 运行流程会变得很不清晰</p><h3 id="发布-订阅" tabindex="-1"><a class="header-anchor" href="#发布-订阅" aria-hidden="true">#</a> 发布/订阅</h3><p>我们假定，存在一个&quot;信号中心&quot;，某个任务执行完成，就向信号中心&quot;发布&quot;（publish）一个信号，其他任务可以向信号中心&quot;订阅&quot;（subscribe）这个信号，从而知道什么时候自己可以开始执行。这就叫做&quot;发布/订阅模式&quot;（publish-subscribe pattern），又称&quot;观察者模式&quot;（observer pattern）。</p><p>这个模式有多种实现，下面采用的是 Ben Alman 的 Tiny Pub/Sub，这是 jQuery 的一个插件。</p><p>首先，f2 向&quot;信号中心&quot;jQuery 订阅&quot;done&quot;信号。</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>Query<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token string">&quot;done&quot;</span><span class="token punctuation">,</span> f2<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">f1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// f1的任务代码</span>

    jQuery<span class="token punctuation">.</span><span class="token function">publish</span><span class="token punctuation">(</span><span class="token string">&quot;done&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>jQuery.publish(&quot;done&quot;)</code>的意思是，f1 执行完成后，向&quot;信号中心&quot;jQuery 发布&quot;done&quot;信号，从而引发 f2 的执行。</p><p>此外，f2 完成执行后，也可以取消订阅（unsubscribe）。</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>jQuery<span class="token punctuation">.</span><span class="token function">unsubscribe</span><span class="token punctuation">(</span><span class="token string">&quot;done&quot;</span><span class="token punctuation">,</span> f2<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>这种方法的性质与&quot;事件监听&quot;类似，但是明显优于后者。因为我们可以通过查看&quot;消息中心&quot;，了解存在多少信号、每个信号有多少订阅者，从而监控程序的运行。</p><h3 id="promise" tabindex="-1"><a class="header-anchor" href="#promise" aria-hidden="true">#</a> Promise</h3><p>Promise 是现代 JavaScript 中异步编程的基础，是一个由异步函数返回的可以向我们指示当前操作所处的状态的对象。在 Promise 返回给调用者的时候，操作往往还没有完成，但 Promise 对象可以让我们操作最终完成时对其进行处理（无论成功还是失败）</p><p>简单来说是 js 官方提供的，封装好的异步方案，用就完了☺️</p><blockquote><p>这里注意一下，即使已经完成了操作(成功或失败)，才对 Promise 对象绑定<code>then</code>函数，它们都会如期执行</p></blockquote><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;start working&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> fetchPromise<span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span>Response<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">&quot;http://bilibili.com&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>fetchPromise<span class="token punctuation">)</span><span class="token punctuation">;</span>

fetchPromise<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span>res<span class="token operator">:</span> Response<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;after sending...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// start working</span>
<span class="token comment">// Promise { &lt;pending&gt; }</span>
<span class="token comment">// after sending...</span>
<span class="token comment">// Response {</span>
<span class="token comment">//   body: ReadableStream { locked: false },</span>
<span class="token comment">//   bodyUsed: false,</span>
<span class="token comment">//   headers: Headers {</span>
<span class="token comment">//   &quot;cache-control&quot;: &quot;no-cache&quot;,</span>
<span class="token comment">//   &quot;content-type&quot;: &quot;text/html; charset=utf-8&quot;,</span>
<span class="token comment">//   date: &quot;Wed, 11 Jan 2023 09:28:41 GMT&quot;,</span>
<span class="token comment">//   expires: &quot;Wed, 11 Jan 2023 09:28:40 GMT&quot;,</span>
<span class="token comment">//   gear: &quot;3&quot;,</span>
<span class="token comment">//   &quot;set-cookie&quot;: &quot;b_nut=1673429321; path=/; expires=Thu, 11 Jan 2024 09:28:41 GMT; domain=.bilibili.com&quot;,</span>
<span class="token comment">//   support: &quot;nantianmen&quot;,</span>
<span class="token comment">//   vary: &quot;Origin,Accept-Encoding&quot;,</span>
<span class="token comment">//   &quot;x-cache-time&quot;: &quot;0&quot;,</span>
<span class="token comment">//   &quot;x-cache-webcdn&quot;: &quot;MISS from blzone03&quot;,</span>
<span class="token comment">//   &quot;x-origin-time&quot;: &quot;no-cache, must-revalidate, max-age=0, no-store&quot;,</span>
<span class="token comment">//   &quot;x-save-date&quot;: &quot;Wed, 11 Jan 2023 09:28:41 GMT&quot;</span>
<span class="token comment">// },</span>
<span class="token comment">//   ok: true,</span>
<span class="token comment">//   redirected: true,</span>
<span class="token comment">//   status: 200,</span>
<span class="token comment">//   statusText: &quot;OK&quot;,</span>
<span class="token comment">//   url: &quot;https://www.bilibili.com/&quot;</span>
<span class="token comment">// }</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>使用<code>fetch</code> API, 把请求<code>bilibili</code>返回的 Promise 对象保存下来，给它添加 then 回调函数，用于请求成功后执行的操作</p><p>可以发现我们尝试输出 Promise 的时,有个<code>pending</code></p><p>Promise 有三种状态：</p><ul><li>待定（pending）：初始状态，既没有被兑现，也没有被拒绝。这是调用 <code>fetch()</code> 返回 Promise 时的状态，此时请求还在进行中。</li><li>已兑现（fulfilled）：意味着操作成功完成。当 Promise 完成时，它的 <code>then()</code> 处理函数被调用。</li><li>已拒绝（rejected）：意味着操作失败。当一个 Promise 失败时，它的 <code>catch()</code> 处理函数被调用。</li></ul><h4 id="链式" tabindex="-1"><a class="header-anchor" href="#链式" aria-hidden="true">#</a> 链式</h4><p>Promise 的一个优点是可以使用链式的写法，即一个 Promise 可以绑定多个 <code>then</code>, 或 <code>catch</code></p><p>使用链式的写法，可以避免回调函数的多重嵌套, 每一个 then 的返回值都会传进下一个 <code>then</code> 里。</p><p>即使再次进行多次请求也没关系，写法不会改变，依然可以保持链式的结构</p><blockquote><p>catch 用于捕获错误</p></blockquote><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code>fetchPromise
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span>res<span class="token operator">:</span> Response<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> res<span class="token punctuation">.</span>url<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span>url<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">fetch</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span>res<span class="token operator">:</span> Response<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span>err<span class="token operator">:</span> Error<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="promise-api" tabindex="-1"><a class="header-anchor" href="#promise-api" aria-hidden="true">#</a> Promise API</h3><h4 id="promise-all" tabindex="-1"><a class="header-anchor" href="#promise-all" aria-hidden="true">#</a> Promise.all()</h4><p>有时候，我们必须等待多个 promise 全部实现，才能进行一个操作</p><p>使用 <code>Promise.all()</code></p><ul><li>当且仅当数组中所有的 Promise 都被兑现时，才会通知 <code>then()</code> 处理函数并提供一个包含所有响应的数组，数组中响应的顺序与被传入 <code>all()</code> 的 <code>Promise</code> 的顺序相同</li><li>会被拒绝——如果数组中有任何一个 Promise 被拒绝。此时，<code>catch()</code> 处理函数被调用，并提供被拒绝的 Promise 所抛出的错误</li></ul><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">const</span> promise1<span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span>Response<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">&quot;https://www.bilibili.com&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> promise2<span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span>Response<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">&quot;https://www.acfun.cn&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> promise3<span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span>Response<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">&quot;https://www.youtube.com&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token builtin">Promise</span><span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">[</span>promise1<span class="token punctuation">,</span> promise2<span class="token punctuation">,</span> promise3<span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span>responses<span class="token operator">:</span> Response<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> response <span class="token keyword">of</span> responses<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>response<span class="token punctuation">.</span>url<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>response<span class="token punctuation">.</span>status<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span>err<span class="token operator">:</span> Error<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// https://www.bilibili.com/: 200</span>
<span class="token comment">// https://www.acfun.cn/: 200</span>
<span class="token comment">// https://www.youtube.com/: 200</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="promise-any" tabindex="-1"><a class="header-anchor" href="#promise-any" aria-hidden="true">#</a> Promise.any()</h4><p>有时，我们只需要等待多个 promise 之中的其一完成，便可执行 then 操作</p><p>只要其中任意一个(有可能多个)完成(fulfilled)，就执行 then，全部失败(rejected)才执行 catch</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">const</span> promise1<span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span>Response<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">&quot;https://www.bilibili.com&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> promise2<span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span>Response<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">&quot;https://www.acfun.cn&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> promise3<span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span>Response<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">&quot;https://www.youtube.com&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token builtin">Promise</span><span class="token punctuation">.</span><span class="token function">any</span><span class="token punctuation">(</span><span class="token punctuation">[</span>promise1<span class="token punctuation">,</span> promise2<span class="token punctuation">,</span> promise3<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span>resp<span class="token operator">:</span> Response<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>resp<span class="token punctuation">.</span>url<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> finish the job firstly.</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="promise-race" tabindex="-1"><a class="header-anchor" href="#promise-race" aria-hidden="true">#</a> Promise.race()</h4><p>只要有任意一个(有可能多个), 完成(fulfilled)或失败(rejected)，则执行 then 或执行 catch</p><h4 id="async-和-await" tabindex="-1"><a class="header-anchor" href="#async-和-await" aria-hidden="true">#</a> async 和 await</h4><p>有时候，我们发现使用链式 promise 的写法也不够简单，于是官方提供了更简便的语法糖 <code>await/async</code></p><p><code>async</code>:</p><p>简单点，<code>async</code> 用来修饰一个<code>function</code> 说明这个 <code>function</code> 是异步的, 即 执行到它时，会先把函数中不需要等待的部分执行，需要等待的部分则是被<code>分成片段放在&quot;后台&quot;</code>执行了,然后继续执行函数外非等待的部分</p><blockquote><p>这里的后台有点不准确，其实 js 是单线程执行的，只是 cpu 处理的时候需要快速地切换执行的上下文，看起来就像是并行的了 💩</p></blockquote><p><code>await</code>:</p><ul><li>只能在用在<code>async</code>函数中</li><li>放在一个返回 promise 的执行函数前,表示等待 promise <code>fulfilled</code> 后， 把<code>resolve</code>的值返回</li></ul><blockquote><p>其实 <code>await</code> 下面的代码就相当于这个 <code>promise</code> 的 <code>then</code> 部分, 用起来是不是更方便了 ☺️</p></blockquote><p>那<code>rejected</code> 的部分怎么办？</p><ul><li>用 <code>try/catch</code> 包裹起来就好了!</li></ul><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">getWeb</span><span class="token punctuation">(</span>url<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">try</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> resp <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>resp<span class="token punctuation">.</span>url<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>resp<span class="token punctuation">.</span>status<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// ...</span>
  <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token function">getWeb</span><span class="token punctuation">(</span><span class="token string">&quot;https://www.bilibili.com&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// https://www.bilibili.com/: 200</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="new-promise" tabindex="-1"><a class="header-anchor" href="#new-promise" aria-hidden="true">#</a> New Promise()</h3><p>ok，既然我们已经会使用 promise 了，让我们来写一个简单<code>Promise</code> 对象的的例子吧：</p><p>功能很简单，就是点击按钮，间隔 1s 后把 <code>&lt;h4&gt;</code> 标签的内容换成牛叫:</p><div class="language-vue line-numbers-mode" data-ext="vue"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h4</span><span class="token punctuation">&gt;</span></span>{{ show }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h4</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>handleClick<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Click!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span>
  <span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>show = &#39;Hello Cow !&#39;<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Reset<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> show <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">&quot;Hello Cow !&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> callCowPromise <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token function-variable function">resolve</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token constant">T</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&quot;🐮 Moo~&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">handleClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
callCowPromise<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">value</span><span class="token operator">:</span> string</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
  show<span class="token punctuation">.</span>value <span class="token operator">=</span> value
<span class="token punctuation">}</span><span class="token punctuation">)</span>
  show<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">&quot;Wait...&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="highlight-lines"><br><br><br><br><br><br><br><br><br><br><br><br><div class="highlight-line"> </div><br><br><br><br><div class="highlight-line"> </div><br><br><div class="highlight-line"> </div><br><br></div><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>可以看到，在<code>handleClick()</code>里先设置了 <code>callCowPromise</code> 的 <code>then</code> 函数，再执行 <code>show.value = &quot;Wait...&quot;</code>, 这部分是同步的噢</p></blockquote><h4 id="展示" tabindex="-1"><a class="header-anchor" href="#展示" aria-hidden="true">#</a> 展示：</h4><h4>Hello Cow !</h4><button>Click!</button><button>Reset</button><blockquote><p>vuepress 可以直接渲染出来我们的代码 ☺️</p></blockquote><br><p>ok， 仅针对 promise 对象说明一下:</p><ol><li>我们在这里创建了一个 Promise 对象 <code>callCowPromise</code>, 它使用<code>Promise</code>类的构造函数 它返回一个 <code>Promise</code> 对象</li><li>构造函数参数为一个回调函数, 因为内容简单，在这里我执行写了回调函数，回调函数的参数<code>resolve</code>也是个回调函数</li><li>第一个回调函数中，使用<code>setTimeout</code>等待一秒，执行传入的回调函数<code>resolve()</code>，内容为牛叫。ok Promise 创建结束</li><li><code>callCowPromise</code>是一个<code>Promise</code>对象，那么可以给它加上<code>then</code>函数，你已经注意到了，<code>then</code>函数中的参数即是 <code>resolve</code> 传入的牛叫</li></ol><p>写一个 <code>promise</code> 对象挺简单的对吧，但其实还可以使用<code>async/await</code>简化一下我们的代码:</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">const</span> <span class="token function-variable function">callCow</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
  <span class="token keyword">new</span> <span class="token class-name"><span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token function-variable function">resolve</span><span class="token operator">:</span> <span class="token punctuation">(</span>value<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&quot;🐮 Moo~&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">handleClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  show<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">&quot;Wait...&quot;</span><span class="token punctuation">;</span>
  show<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">callCow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>首先 <code>await</code> 只能用在返回<code>promise</code>的函数上, 因此把<code>callCow</code>变成一个返回<code>promise</code>对象的函数, 其他部分不用改。</p><p>然后，<code>await</code> 的使用必须在 <code>async</code> 函数内，因此使用<code>async</code>修饰<code>handleClick</code></p><p>使用<code>await</code> 在<code>callCow()</code>前，使得<code>await callCow()</code>返回的值变成了<code>resolve()</code>里传入的牛叫</p><p>完成 🎉</p><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>关于<code>async handleClick()</code> 产生的影响, <code>async</code> 会把函数变为异步的, 即进入函数后，先执行 <code>show.value = &quot;Wait...&quot;</code> 遇到需要等待的操作，则把它异步处理，同时执行函数外能马上执行的同步部分，而因为<code>handleClick</code>只是个事件函数，不会影响到上下文的执行顺序，因此没有关系</p></div><h4 id="补充" tabindex="-1"><a class="header-anchor" href="#补充" aria-hidden="true">#</a> 补充</h4><p><code>resolve</code>用来返回正确的结果, 那么错误的原因由<code>reject</code>来返回</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">const</span> <span class="token function-variable function">ezfunc</span> <span class="token operator">=</span> <span class="token punctuation">(</span>value<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
  <span class="token keyword">new</span> <span class="token class-name"><span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token function-variable function">resolve</span><span class="token operator">:</span> <span class="token punctuation">(</span>resp<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">,</span> reject<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token operator">===</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span> <span class="token function">reject</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&quot;值不能为空！&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>value<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&gt;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">try</span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">await</span> <span class="token function">ezfunc</span><span class="token punctuation">(</span><span class="token string">&quot;Hi ⭐️&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">await</span> <span class="token function">ezfunc</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// &lt;Hi ⭐️&gt;</span>
<span class="token comment">// Error: 值不能为空！</span>
<span class="token comment">//     at file:///**/hello.ts:3:30</span>
<span class="token comment">//     at new Promise (&lt;anonymous&gt;)</span>
<span class="token comment">//     at ezfunc (file:///**/hello.ts:2:3)</span>
<span class="token comment">//     at main (file:///**/hello.ts:10:23)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="workers" tabindex="-1"><a class="header-anchor" href="#workers" aria-hidden="true">#</a> workers</h3><p>毕竟 js 还是单线程的嘛，有些情况下不能很好地发挥多核的性能，因此 <code>workers</code> 给了我们在不同线程中运行某些任务的能力</p><p>但是这是要付出代价的。对于多线程代码，你永远不知道你的线程什么时候将会被挂起，其他线程将会得到运行的机会。因此，如果两个线程都可以访问相同的变量，那么变量就有可能在任何时候发生意外的变化，这将导致很难发现的 Bug</p><p>为了避免 Web 中的这些问题，你的主代码和你的 <code>worker</code> 代码永远不能直接访问彼此的变量。<code>Workers</code> 和主代码运行在完全分离的环境中，只有通过相互发送消息来进行交互。这意味着 <code>workers</code> 不能访问 <code>DOM</code>（窗口、文档、页面元素等等）</p><p>Worker 线程无法读取本地文件，即不能打开本机的文件系统（file://），且它所加载的脚本，必须来自网络。</p><p>有三类 workers:</p><ul><li>dedicated workers</li><li>shared workers</li><li>service workers</li></ul><p>仅介绍第一类</p><h4 id="创建-worker" tabindex="-1"><a class="header-anchor" href="#创建-worker" aria-hidden="true">#</a> 创建 worker</h4><p>在主线程中</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">const</span> worker <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Worker</span><span class="token punctuation">(</span><span class="token string">&quot;ezworker.ts&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>构造函数的参数是脚本文件的地址，脚本必须来自网络。如果下载没有成功（比如 404 错误），Worker 就会默默地失败</p><h4 id="通信" tabindex="-1"><a class="header-anchor" href="#通信" aria-hidden="true">#</a> 通信</h4><p>要与 worker 互动，只能通过发消息的形式</p><p>在主线程中, 使用 <code>postMessage</code> 发送一条消息给子线程</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">const</span> worker <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Worker</span><span class="token punctuation">(</span><span class="token string">&quot;ezworker.ts&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

worker<span class="token punctuation">.</span><span class="token function">postMessage</span><span class="token punctuation">(</span><span class="token string">&quot;Hi my name is oooooooo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>postMessage 其实有两个参数</p><ul><li>message: 普通的消息可以是任何类型, 二进制也可以</li><li>transferable objects: 可转移对象通常用于共享资源，该资源一次仅能安全地暴露在一个 JavaScript 线程中</li></ul><p>要接收来自子线程的消息, 使用 <code>onmessage</code>指定监听函数</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code>worker<span class="token punctuation">.</span><span class="token function-variable function">onmessage</span> <span class="token operator">=</span> <span class="token punctuation">(</span>event<span class="token operator">:</span> MessageEvent<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">recv: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>event<span class="token punctuation">.</span>data<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="关闭-worker" tabindex="-1"><a class="header-anchor" href="#关闭-worker" aria-hidden="true">#</a> 关闭 worker</h4><p>Worker 线程一旦新建成功，就会始终运行，因此为了避免过度浪费资源， 一旦使用完毕，就应该关闭</p><p>主线程使用 <code>worker.terminate();</code> 结束 worker 线程</p><p>worker 线程使用 <code>self.close();</code> 关闭</p><h4 id="worker" tabindex="-1"><a class="header-anchor" href="#worker" aria-hidden="true">#</a> worker</h4><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code>self<span class="token punctuation">.</span><span class="token function-variable function">onmessage</span> <span class="token operator">=</span> <span class="token punctuation">(</span>event<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  self<span class="token punctuation">.</span><span class="token function">postMessage</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">💩💩💩</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>event<span class="token punctuation">.</span>data<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">💩💩💩</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="例子" tabindex="-1"><a class="header-anchor" href="#例子" aria-hidden="true">#</a> 例子</h4><p>懒得写，deno 的 worker 和原版的不太一样 💩</p></div><!--[--><!--]--></div><footer class="page-meta"><div class="meta-item edit-link"><a class="external-link meta-item-label" href="https://github.com/msqtt/msqtt.github.io/edit/master/docs/web/js/12-异步.md" rel="noopener noreferrer" target="_blank" aria-label="Edit ✍🏻️"><!--[--><!--]--> Edit ✍🏻️ <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="meta-item last-updated"><span class="meta-item-label">Last ⌚️: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: mosquito@email.cn">mosqu1t0</span><!----><!--]--><!--]--></span></div></footer><nav class="page-nav"><p class="inner"><span class="prev"><a href="/web/js/11-%E5%B8%B8%E7%94%A8%E5%BA%93.html" class="" aria-label="常用库"><!--[--><!--]--> 常用库 <!--[--><!--]--></a></span><span class="next"><a href="/web/js/javascript%E4%B8%80%E5%91%A8%E7%9B%AE%E7%AC%94%E8%AE%B0.html" class="" aria-label="JS NOTE"><!--[--><!--]--> JS NOTE <!--[--><!--]--></a></span></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/assets/app-59ccc503.js" defer></script>
  </body>
</html>
